<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace必须指向Dao接口 -->
<mapper namespace="cn.koala.system.repositories.CommonRepository">
  <sql id="auditColumns">
    k
    .
    create_user_id
    as "createUser.id",
    k.create_user_name as "createUser.name",
    k.create_time,
    k.last_modify_user_id as "lastModifyUser.id",
    k.last_modify_user_name as "lastModifyUser.name",
    k.last_modify_time,
    k.delete_user_id as "deleteUser.id",
    k.delete_user_name as "deleteUser.name",
    k.delete_time
  </sql>
  <sql id="baseEntityColumns">
    <include refid="cn.koala.system.repositories.CommonRepository.sortColumn"/>,
    <include refid="cn.koala.system.repositories.CommonRepository.stateColumns"/>,
    <include refid="cn.koala.system.repositories.CommonRepository.auditColumns"/>
  </sql>
  <sql id="sortColumn">
    k
    .
    sort_index
  </sql>
  <sql id="stateColumns">
    k
    .
    is_system
    ,
    k.is_enable,
    k.is_delete
  </sql>
</mapper>
